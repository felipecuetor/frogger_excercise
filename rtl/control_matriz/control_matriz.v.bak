
//=======================================================
//  This code is generated by Terasic System Builder
//=======================================================

module control_matriz(
	CLOCK_50,
	RESET,
	fila0,
	fila1,
	fila2,
	fila3,
	fila4,	
	fila5,
	fila6,
	fila7,
	MAX7219_DIN,
	MAX7219_CS,
	MAX7219_CLK
);

//=======================================================
//  PARAMETER declarations
//=======================================================


//=======================================================
//  PORT declarations
//=======================================================

//////////// CLOCK //////////
input 	CLOCK_50;
input    RESET;
input		[7:0]fila0;
input		[7:0]fila1;
input 	[7:0]fila2;
input		[7:0]fila3;
input		[7:0]fila4;
input 	[7:0]fila5;
input		[7:0]fila6;
input		[7:0]fila7;
//////////// GPIO_0, GPIO_0 connect to GPIO Default //////////

output   MAX7219_DIN;
output	MAX7219_CS;
output	MAX7219_CLK;

//=======================================================
//  REG/WIRE declarations
//=======================================================

wire [7:0] data_max;
wire [2:0] add;
//=======================================================
//  Structural coding
//=======================================================
	matrix_ctrl matrix_ctrl_unit_0(    // Driver MAX7219
		.max7219_din(MAX7219_DIN),//max7219_din 
		.max7219_ncs(MAX7219_CS),//max7219_ncs 
		.max7219_clk(MAX7219_CLK),//max7219_clk
		.disp_data(data_max), 
		.disp_addr(add),
		.intensity(4'hA),
		.clk(CLOCK_50),
		.reset(RESET) //~lowRst_System
	 );
	 
	imagen imagen_1(  // Load Image
		.act_add(add), 
		.fila7(fila7),
		.fila6(fila6),
		.fila5(fila5),
		.fila4(fila4),
		.fila3(fila3),
		.fila2(fila2),
		.fila1(fila1),
		.fila0(fila0),
		.max_in(data_max) 
	);
	
endmodule
